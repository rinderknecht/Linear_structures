%%-*-latex-*-

\documentclass[10pt]{article}

\usepackage[T1]{fontenc}
\usepackage{pst-plot,pst-eps}
\usepackage{amsmath}

\begin{document}

\TeXtoEPS
\begin{pspicture}(-0.5,-0.5)(4,5)
%% Axes
%
\psaxes[labels=none]{->}(4,5)
%
% k
%
\rput[C](0,-0.3){\(0\)}
\rput[C](1,-0.3){\(1\)}
\rput[C](2,-0.3){\(k_{\max}\)}
\rput[C](3,-0.3){\(n\)}
\rput[C](4,-0.25){\(k\)}
%
% P(k)
%
\rput[C](-0.3,0){\(0\)}
\rput[rC](-0.3,3){\(n\)}
\rput[rC](-0.3,4){\(k_{\max}^2\)}
\rput[rC](-0.2,5){\(P(k)\)}
 
% Segments
%
\psline[linestyle=dotted](0,3)(1,3)
\psline[linestyle=dotted](0,4)(3,4)
\psline[linestyle=dotted](1,0)(1,3)
\psline[linestyle=dotted](3,0)(3,4)

% Parabola k(n + 1 - k). Here n=3, so k(4-k)=-k^2+4k
%
\psplot{0}{1}{x dup mul neg 4 x mul add}
\pscustom[fillcolor=lightgray,fillstyle=solid]{%
  \psplot{1}{3}{x dup mul neg 4 x mul add}
}
\psplot{3}{3.5}{x dup mul neg 4 x mul add}
\psline[linestyle=dotted](2,0)(2,4)
\end{pspicture}
\endTeXtoEPS

\end{document}
