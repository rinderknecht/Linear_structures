%%-*-latex-*-

\documentclass[10pt]{article}

\usepackage[T1]{fontenc}
\usepackage{pst-eps}
\usepackage[scaled=0.8]{beramono}

% Color in tables 
%
\usepackage{colortbl}
\definecolor{mygrey}{gray}{0.5}

% Tables
%
\usepackage{arydshln}
\setlength\dashlinedash{1pt}
\setlength\dashlinegap{1pt}

% AMS Maths and St Mary's Road nice symbols
%
\usepackage{amssymb,amsmath,stmaryrd}

% Enlarging vertically the array rows
%
\renewcommand\arraystretch{1.2}

\input{commands}

\begin{document}

\TeXtoEPS
\(\small
\begin{array}{rcc@{\,}c@{}ccr@{}r@{\,}c@{}ccc@{}ccc}
  & \multicolumn{1}{@{}l}{\scriptstyle 0}
  & & \scriptstyle j-i & & & 
  &&&
  & &
  & \multicolumn{1}{r@{}}{\scriptstyle j-1}
  & \multicolumn{1}{c}{\scriptstyle j}\\
\cline{2-15}
    \multicolumn{1}{r|}{t:}
  & \multicolumn{2}{c}{\ldots}
  & \multicolumn{3}{|c|}{\DBorder{x}{}{x[0..i-1]}}
  & \multicolumn{2}{c|}{\ldots}
  & \multicolumn{5}{c}{\DBorder{x}{}{x[0..i-1]}}
  & \multicolumn{1}{|>{\columncolor{mygrey}}c|}{\textcolor{white}{\texttt{b}}}
  & \phantom{ll}\\
\cline{2-15}
  &
  & 
  & \multicolumn{1}{:@{\,}l}{\scriptstyle 0}
  &
  & \multicolumn{1}{c:}{}
  & \multicolumn{1}{c}{\scriptstyle k}
  & 
  & \multicolumn{1}{:@{\,}l}{\scriptstyle i-k}
  &
  &
  &
  & \multicolumn{1}{r@{}:}{\scriptstyle i-1}
  & \scriptstyle i\\ 
\cline{4-15}
    \multicolumn{1}{r}{x:}
  &
  &
  & \multicolumn{3}{|c|}{\DBorder{x}{}{x[0..i-1]}}
  & \multicolumn{1}{@{}c@{}|}{\text{not} \,\erlcode{a}}
  & \multicolumn{1}{c}{\ldots}
  & \multicolumn{5}{|c}{\DBorder{x}{}{x[0..i-1]}}
  & \multicolumn{1}{|>{\columncolor{mygrey}}c|}{\textcolor{white}{\texttt{a}}}
  & \\
\cline{4-15}
  &&&&&&
  & 
  &\multicolumn{1}{:@{\,}l}{\scriptstyle 0}
  && 
  &&& \multicolumn{1}{:c}{\scriptstyle k}\\
\cline{9-15}
  \multicolumn{2}{l}{\text{slided} \,\; x:}
  &
  & \multicolumn{5}{@{}c@{}}{\xrightarrow{\hspace{4cm}}}
  & \multicolumn{5}{|c}{\DBorder{x}{}{x[0..i-1]}}
  & \multicolumn{1}{|c|}{\textbf{?}}\\
\cline{9-15}
\end{array}
\)
\endTeXtoEPS

\end{document}
